{% extends "base_student.html" %} {% block title %}My Curriculum{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="leftcolumn" style="margin-top: 0.5cm; margin-bottom: 0.5cm;">
            
            <form action="" method="POST" id="CHeckCurriculum">
                <h6 style="padding-top: 20px;">เลือกภาคการศึกษาที่ต้องการตรวจสอบ</h6>
                <div class="form-group">
                    <label for="lang">ภาคการศึกษา</label><br />
                    <select class="form-select" name="academic-year" id="acdm" style="padding: 5px 70px; border-radius: 10px;"  required>
                        <option value="" disabled selected>เลือกภาคเรียน</option>
                        <option value="1/1/{{ start_year }}">1/{{ start_year }}</option>
                        <option value="2/2/{{ start_year }}">2/{{ start_year }}</option>
                        <option value="3/1/{{ start_year+1 }}">1/{{ start_year+1 }}</option>
                        <option value="4/2/{{ start_year+1 }}">2/{{ start_year+1 }}</option>
                        <option value="5/1/{{ start_year+2 }}">1/{{ start_year+2 }}</option>
                        <option value="6/2/{{ start_year+2 }}">2/{{ start_year+2 }}</option>
                        <option value="7/1/{{ start_year+3 }}">1/{{ start_year+3 }}</option>
                        <option value="8/2/{{ start_year+3 }}">2/{{ start_year+3 }}</option>
                    </select>
                </div>
                <h6 style="padding-top: 20px;">ระบุวิชาที่จะเรียนในภาคการศึกษานั้น</h6>
                {% for i in range(1,8) %}
                <div class="form-group">
                    <label for="sub{{i}}">วิชาที่ {{i}}</label>
                    <input type="text" class="form-control" id="sub{{i}}" name="sub{{i}}" placeholder="Enter subject">
                </div>
                {% endfor %}
            </form>

            <button class="button-new button-search">ค้นหา</button>
            
        </div>
        <div class="rightcolumn" style="vertical-align: center;">
            <div class="card card1">
                <h2 style="margin: 8px 10px;">ข้อมูลการลงทะเบียนเรียนในภาคการศึกษาที่ {{ semester[2:] }}</h2><br />
                {% if sem_result is not none %}
                <table style="text-align: center;" id="academic-table">
                    <tr>
                        <th>วิชาเรียน</th>
                        <th>ชื่อวิชา</th>
                        <th>กลุ่มเรียน</th>
                        <th>จำนวนหน่วยกิต</th>
                        <th>Status</th>
                        <th>หมายเหตุ</th>
                    </tr>
                    {%for num in range(subject_list|length) %}
                    <tr>
                        <td style="background-color: #545452; color: white;">{{ subject_list[num] }}</td>
                        <td>{{ subject_dict[subject_list[num]][0] }}</td>
                        <td>{{ sem_result['section'] }}</td>
                        <td>{{ subject_dict[subject_list[num]][1] }}</td>
                        {% if subject_list[num] in sub_sem_list %}
                        <td style="width: 10%;"><img src="/static/correct-mark.png" style="width: 30%; height: auto;"></td>
                        <td>ไม่มี</td>
                        {% else %}
                        <td style="width: 10%;"><img src="/static/warning-icon.jpg" style="width: 40%; height: auto;"></td>
                        <td>ลงเรียนผิดลำดับ</td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </table> <br />
                <h5 style="margin: 2px 10px;">วันที่ลงทะเบียน : {{ sem_result['timestamp'] }}</h5>
                {% else %}
                <h4>No result found!!</h4>
                {% endif %}
                
            </div>
            <br />
        </div> 
    </div>
</div>
{% endblock %}